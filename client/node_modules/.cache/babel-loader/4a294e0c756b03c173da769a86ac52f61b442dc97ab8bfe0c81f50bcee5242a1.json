{"ast":null,"code":"import * as PIXI from \"pixi.js\";\nexport class Card {\n  constructor(cardsContainer, sheet, name, position) {\n    this.cardsContainer = cardsContainer;\n    this.sheet = sheet;\n    this.name = name;\n    this.position = position;\n    this.place = \"tavern\";\n    this.selected = false;\n    this.sprite = new PIXI.Sprite(this.sheet.textures[\"tile028.jpg\"]);\n    this.sprite.eventMode = 'static';\n    this.sprite.cursor = 'pointer';\n    this.sprite.x = this.position.x;\n    this.sprite.y = this.position.y;\n    this.sprite.scale.set(0.4);\n    this.sprite.anchor.set(0.5);\n    this.shadowFilter = new PIXI.filters.DropShadowFilter({\n      distance: 5,\n      // Distance of the shadow\n      blur: 10,\n      // Blur amount\n      color: 0x000000,\n      // Shadow color\n      alpha: 0.7 // Shadow opacity\n    });\n\n    this.sprite.filters = [this.shadowFilter];\n    this.cardsContainer.addChild(this.sprite);\n    this.sprite.on('pointerover', this.onPointerOver, this.sprite).on('pointerout', this.onPointerOut, this.sprite).on('pointerdown', () => {\n      this.selected = !this.selected;\n    });\n  }\n  reveal() {\n    this.sprite.texture = this.sheet.textures[this.name];\n  }\n  hide() {\n    this.sprite.texture = this.sheet.textures[\"tile028.jpg\"];\n  }\n  onPointerOver() {\n    this.tint = 0x666666;\n  }\n  onPointerOut() {\n    this.tint = 0xFFFFFF;\n  }\n  moveTo(position, revealed) {\n    if (revealed) {\n      this.reveal();\n    } else {\n      this.hide();\n    }\n    const ticker = new PIXI.Ticker();\n    ticker.add(delta => {\n      // Constants\n      const velocity = 40;\n\n      // Calculate direction towards position\n      let dx = position.x - this.sprite.x;\n      let dy = position.y - this.sprite.y;\n\n      // Normalize\n      let distance = Math.sqrt(dx * dx + dy * dy);\n      dx = dx / distance;\n      dy = dy / distance;\n\n      // Move Card towards position\n      if (distance <= velocity) {\n        this.sprite.x = position.x;\n        this.sprite.y = position.y;\n        this.position = position;\n        ticker.destroy();\n      } else {\n        this.sprite.x += dx * velocity * delta;\n        this.sprite.y += dy * velocity * delta;\n      }\n    });\n    ticker.start();\n  }\n}","map":{"version":3,"names":["PIXI","Card","constructor","cardsContainer","sheet","name","position","place","selected","sprite","Sprite","textures","eventMode","cursor","x","y","scale","set","anchor","shadowFilter","filters","DropShadowFilter","distance","blur","color","alpha","addChild","on","onPointerOver","onPointerOut","reveal","texture","hide","tint","moveTo","revealed","ticker","Ticker","add","delta","velocity","dx","dy","Math","sqrt","destroy","start"],"sources":["/Users/rabiibouhestine/mystuff/BrowserApps/Duels/client/src/game/components/Card.js"],"sourcesContent":["import * as PIXI from \"pixi.js\";\n\nexport class Card {\n    constructor(cardsContainer, sheet, name, position) {\n        this.cardsContainer = cardsContainer;\n        this.sheet = sheet;\n        this.name = name;\n        this.position = position;\n        this.place = \"tavern\";\n        this.selected = false;\n\n        this.sprite = new PIXI.Sprite(this.sheet.textures[\"tile028.jpg\"]);\n        this.sprite.eventMode = 'static';\n        this.sprite.cursor = 'pointer';\n        this.sprite.x = this.position.x;\n        this.sprite.y = this.position.y;\n        this.sprite.scale.set(0.4);\n        this.sprite.anchor.set(0.5);\n        this.shadowFilter = new PIXI.filters.DropShadowFilter({\n            distance: 5, // Distance of the shadow\n            blur: 10,    // Blur amount\n            color: 0x000000, // Shadow color\n            alpha: 0.7,  // Shadow opacity\n         });\n        this.sprite.filters = [this.shadowFilter];\n        this.cardsContainer.addChild(this.sprite);\n\n        this.sprite\n            .on('pointerover', this.onPointerOver, this.sprite)\n            .on('pointerout', this.onPointerOut, this.sprite)\n            .on('pointerdown', () => {this.selected = !this.selected;});\n    }\n\n    reveal() {\n        this.sprite.texture = this.sheet.textures[this.name];\n    }\n\n    hide() {\n        this.sprite.texture = this.sheet.textures[\"tile028.jpg\"];\n    }\n\n    onPointerOver()\n    {\n        this.tint = 0x666666;\n    }\n\n    onPointerOut()\n    {\n        this.tint = 0xFFFFFF;\n    }\n\n    moveTo(position, revealed) {\n        if (revealed) {\n            this.reveal();\n        } else {\n            this.hide();\n        }\n        const ticker = new PIXI.Ticker();\n        ticker.add((delta) =>\n        {\n            // Constants\n            const velocity = 40;\n\n            // Calculate direction towards position\n            let dx = position.x - this.sprite.x;\n            let dy = position.y - this.sprite.y;\n\n            // Normalize\n            let distance = Math.sqrt(dx * dx + dy * dy);\n            dx = dx / distance;\n            dy = dy / distance;\n\n            // Move Card towards position\n            if (distance <= velocity) {\n                this.sprite.x = position.x;\n                this.sprite.y = position.y;\n                this.position = position;\n                ticker.destroy();\n            } else {\n                this.sprite.x += dx * velocity * delta;\n                this.sprite.y += dy * velocity * delta;\n            }\n        });\n        ticker.start()\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}